{"version":3,"sources":["../src/ShallowWrapper.js"],"names":["NODE","NODES","RENDERER","UNRENDERED","ROOT","OPTIONS","SET_STATE","ROOT_NODES","CHILD_CONTEXT","WRAPPING_COMPONENT","PRIMARY_WRAPPER","ROOT_FINDER","PROVIDER_VALUES","findWhereUnwrapped","wrapper","predicate","filter","treeFilter","flatMap","n","getNodeInternal","filterWhereUnwrapped","wrap","getNodesInternal","Boolean","validateOptions","options","lifecycleExperimental","disableLifecycleMethods","enableComponentDidUpdateOnSetState","supportPrevContextArgumentOfComponentDidUpdate","lifecycles","Error","componentDidUpdate","onSetState","TypeError","prevContext","getAdapterLifecycles","hasLegacySetStateArg","hasLegacyPrevContextArg","originalGDSFP","getDerivedStateFromProps","hasShouldComponentUpdateBug","setState","getChildContext","calledByRenderer","getRootNode","node","nodeType","rendered","getRootNodeInternal","length","nodeParents","privateSetNodes","nodes","Array","isArray","pureComponentShouldComponentUpdate","prevProps","props","prevState","state","isPureComponent","instance","isPureReactComponent","hierarchy","renderer","Component","type","componentName","childContextTypes","console","warn","childContext","Object","keys","forEach","key","checkPropTypes","spyOnGetChildContextInitialRender","adapter","prototype","privateSetChildContext","renderedNode","getChildContextSpy","legacyContextMode","getLastReturnValue","restore","nodeHierarchy","concat","mockSCUIfgDSFPReturnNonNull","originalSCU","shouldComponentUpdate","args","sCUResult","apply","nextState","deepRender","target","element","nodeToElement","dive","children","i","found","at","undefined","getContextFromWrappingComponent","rootFinder","legacyContext","context","providerValues","makeShallowOptions","root","passedOptions","wrappingComponent","wrapWithWrappingComponent","wrappedNode","RootFinder","WrappingComponentWrapper","wrappingComponentLegacyContext","wrappingComponentProviderValues","makeInheritedChildOptions","childOptions","ShallowWrapper","isValidElement","createRenderer","mode","Map","render","getNode","updater","callback","componentDidMount","batchedUpdates","update","single","map","unmount","nextContext","shouldRender","shouldComponentUpdateSpy","gDSFP","getSnapshotBeforeUpdate","snapshot","freeze","arguments","rerender","statePayload","call","maybeHasUpdate","skipsComponentDidUpdateOnNullish","invokeSetStateCallback","nodeOrNodes","other","nodeEqual","elementToNode","rstNode","a","b","every","containsMatchingElement","some","selector","getTextFromNode","html","event","simulateEvent","error","thisNode","simulateError","rootNode","propsOfNode","name","_state","_context","allChildren","index","allParents","parents","get","is","matchingAncestors","first","findWhere","propName","handler","prop","response","RangeError","propValue","wrapped","displayNameOfNode","className","indexOf","fn","initialValue","reduce","accum","reduceRight","begin","end","slice","flattened","getElements","exists","find","fnName","intercepter","el","filterWhere","updatePrimaryRootContext","primaryWrapper","primaryRenderer","primaryNode","prevProviderValues","setContext","isContextConsumer","Consumer","Provider","getProviderFromConsumer","newValue","oldValue","result","ITERATOR_SYMBOL","defineProperty","configurable","value","iterator","iter","next","done","privateWarning","extraMessage","enumerable"],"mappings":"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